{"ast":null,"code":"var _jsxFileName = \"D:\\\\prisma-examples\\\\javascript\\\\rest-nextjs\\\\pages\\\\p\\\\[id].jsx\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport ReactMarkdown from 'react-markdown';\nimport Layout from '../../components/Layout';\nimport fetch from 'isomorphic-unfetch';\nimport Router from 'next/router';\n\nasync function publish(id) {\n  const res = await fetch(`http://localhost:3000/api/publish/${id}`, {\n    method: 'PUT'\n  });\n  const data = await res.json();\n  await Router.push('/');\n}\n\nasync function destroy(id) {\n  const res = await fetch(`http://localhost:3000/api/post/${id}`, {\n    method: 'DELETE'\n  });\n  const data = await res.json();\n  Router.push('/');\n}\n\nconst Cameras = props => {\n  let cameraname = props.cameraname;\n\n  if (!props.published) {\n    cameraname = `${cameraname} (Draft)`;\n  }\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3440979688\" + \" \" + \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, __jsx(\"h2\", {\n    className: \"jsx-3440979688\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, cameraname), __jsx(ReactMarkdown, {\n    source: props.serialnumber,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), __jsx(\"div\", {\n    className: \"jsx-3440979688\" + \" \" + \"actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, !props.published && __jsx(\"button\", {\n    onClick: () => publish(props.id),\n    className: \"jsx-3440979688\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, \"Publish\"), __jsx(\"button\", {\n    onClick: () => destroy(props.id),\n    className: \"jsx-3440979688\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, \"Delete\"))), __jsx(_JSXStyle, {\n    id: \"3440979688\",\n    __self: this\n  }, \".page.jsx-3440979688{background:white;padding:2rem;}.actions.jsx-3440979688{margin-top:2rem;}button.jsx-3440979688{background:#ececec;border:0;border-radius:0.125rem;padding:1rem 2rem;}button.jsx-3440979688+button.jsx-3440979688{margin-left:1rem;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFxwcmlzbWEtZXhhbXBsZXNcXGphdmFzY3JpcHRcXHJlc3QtbmV4dGpzXFxwYWdlc1xccFxcW2lkXS5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0NrQixBQUc0QixBQUtELEFBSUcsQUFPRixnQkFWbkIsQ0FMZSxBQWdCZixFQVBXLFNBQ2MsRUFUekIscUJBVW9CLGtCQUNwQiIsImZpbGUiOiJEOlxccHJpc21hLWV4YW1wbGVzXFxqYXZhc2NyaXB0XFxyZXN0LW5leHRqc1xccGFnZXNcXHBcXFtpZF0uanN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0TWFya2Rvd24gZnJvbSAncmVhY3QtbWFya2Rvd24nXHJcbmltcG9ydCBMYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9MYXlvdXQnXHJcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnXHJcbmltcG9ydCBSb3V0ZXIgZnJvbSAnbmV4dC9yb3V0ZXInXHJcblxyXG5hc3luYyBmdW5jdGlvbiBwdWJsaXNoKGlkKSB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcHVibGlzaC8ke2lkfWAsIHtcclxuICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgfSlcclxuICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKVxyXG4gIGF3YWl0IFJvdXRlci5wdXNoKCcvJylcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGVzdHJveShpZCkge1xyXG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3QvJHtpZH1gLCB7XHJcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gIH0pXHJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcclxuICBSb3V0ZXIucHVzaCgnLycpXHJcbn1cclxuXHJcbmNvbnN0IENhbWVyYXMgPSBwcm9wcyA9PiB7XHJcbiAgbGV0IGNhbWVyYW5hbWUgPSBwcm9wcy5jYW1lcmFuYW1lXHJcbiAgaWYgKCFwcm9wcy5wdWJsaXNoZWQpIHtcclxuICAgIGNhbWVyYW5hbWUgPSBgJHtjYW1lcmFuYW1lfSAoRHJhZnQpYFxyXG4gIH1cclxuICByZXR1cm4gKFxyXG4gICAgPExheW91dD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYWdlXCI+XHJcbiAgICAgICAgPGgyPntjYW1lcmFuYW1lfTwvaDI+XHJcbiAgICAgICAgPFJlYWN0TWFya2Rvd24gc291cmNlPXtwcm9wcy5zZXJpYWxudW1iZXJ9IC8+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XHJcbiAgICAgICAgICB7IXByb3BzLnB1Ymxpc2hlZCAmJiAoXHJcbiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCkgPT4gcHVibGlzaChwcm9wcy5pZCl9PlB1Ymxpc2g8L2J1dHRvbj5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IGRlc3Ryb3kocHJvcHMuaWQpfT5EZWxldGU8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAucGFnZSB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgICAgIHBhZGRpbmc6IDJyZW07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuYWN0aW9ucyB7XHJcbiAgICAgICAgICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnV0dG9uIHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICNlY2VjZWM7XHJcbiAgICAgICAgICBib3JkZXI6IDA7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjEyNXJlbTtcclxuICAgICAgICAgIHBhZGRpbmc6IDFyZW0gMnJlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJ1dHRvbiArIGJ1dHRvbiB7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMXJlbTtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvTGF5b3V0PlxyXG4gIClcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclNpZGVQcm9wcyA9IGFzeW5jIChjb250ZXh0KSA9PiB7XHJcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9zdC8ke2NvbnRleHQucGFyYW1zLmlkfWApXHJcbiAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKClcclxuICByZXR1cm4ge3Byb3BzOiB7Li4uZGF0YX19XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENhbWVyYXNcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\prisma-examples\\\\\\\\javascript\\\\\\\\rest-nextjs\\\\\\\\pages\\\\\\\\p\\\\\\\\[id].jsx */\"));\n};\n\nexport const getServerSideProps = async context => {\n  const res = await fetch(`http://localhost:3000/api/post/${context.params.id}`);\n  const data = await res.json();\n  return {\n    props: _objectSpread({}, data)\n  };\n};\nexport default Cameras;","map":{"version":3,"sources":["D:/prisma-examples/javascript/rest-nextjs/pages/p/[id].jsx"],"names":["ReactMarkdown","Layout","fetch","Router","publish","id","res","method","data","json","push","destroy","Cameras","props","cameraname","published","serialnumber","getServerSideProps","context","params"],"mappings":";;;;;;;;;;;AAAA,OAAOA,aAAP,MAA0B,gBAA1B;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,eAAeC,OAAf,CAAuBC,EAAvB,EAA2B;AACzB,QAAMC,GAAG,GAAG,MAAMJ,KAAK,CAAE,qCAAoCG,EAAG,EAAzC,EAA4C;AACjEE,IAAAA,MAAM,EAAE;AADyD,GAA5C,CAAvB;AAGA,QAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,QAAMN,MAAM,CAACO,IAAP,CAAY,GAAZ,CAAN;AACD;;AAED,eAAeC,OAAf,CAAuBN,EAAvB,EAA2B;AACzB,QAAMC,GAAG,GAAG,MAAMJ,KAAK,CAAE,kCAAiCG,EAAG,EAAtC,EAAyC;AAC9DE,IAAAA,MAAM,EAAE;AADsD,GAAzC,CAAvB;AAGA,QAAMC,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACAN,EAAAA,MAAM,CAACO,IAAP,CAAY,GAAZ;AACD;;AAED,MAAME,OAAO,GAAGC,KAAK,IAAI;AACvB,MAAIC,UAAU,GAAGD,KAAK,CAACC,UAAvB;;AACA,MAAI,CAACD,KAAK,CAACE,SAAX,EAAsB;AACpBD,IAAAA,UAAU,GAAI,GAAEA,UAAW,UAA3B;AACD;;AACD,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAe,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,UAAL,CADF,EAEE,MAAC,aAAD;AAAe,IAAA,MAAM,EAAED,KAAK,CAACG,YAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA,wCAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACH,KAAK,CAACE,SAAP,IACC;AAAQ,IAAA,OAAO,EAAE,MAAMX,OAAO,CAACS,KAAK,CAACR,EAAP,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,EAIE;AAAQ,IAAA,OAAO,EAAE,MAAMM,OAAO,CAACE,KAAK,CAACR,EAAP,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,CAHF,CADF;AAAA;AAAA;AAAA,ovGADF;AAmCD,CAxCD;;AA0CA,OAAO,MAAMY,kBAAkB,GAAG,MAAOC,OAAP,IAAmB;AACnD,QAAMZ,GAAG,GAAG,MAAMJ,KAAK,CAAE,kCAAiCgB,OAAO,CAACC,MAAR,CAAed,EAAG,EAArD,CAAvB;AACA,QAAMG,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACA,SAAO;AAACI,IAAAA,KAAK,oBAAML,IAAN;AAAN,GAAP;AACD,CAJM;AAMP,eAAeI,OAAf","sourcesContent":["import ReactMarkdown from 'react-markdown'\r\nimport Layout from '../../components/Layout'\r\nimport fetch from 'isomorphic-unfetch'\r\nimport Router from 'next/router'\r\n\r\nasync function publish(id) {\r\n  const res = await fetch(`http://localhost:3000/api/publish/${id}`, {\r\n    method: 'PUT',\r\n  })\r\n  const data = await res.json()\r\n  await Router.push('/')\r\n}\r\n\r\nasync function destroy(id) {\r\n  const res = await fetch(`http://localhost:3000/api/post/${id}`, {\r\n    method: 'DELETE',\r\n  })\r\n  const data = await res.json()\r\n  Router.push('/')\r\n}\r\n\r\nconst Cameras = props => {\r\n  let cameraname = props.cameraname\r\n  if (!props.published) {\r\n    cameraname = `${cameraname} (Draft)`\r\n  }\r\n  return (\r\n    <Layout>\r\n      <div className=\"page\">\r\n        <h2>{cameraname}</h2>\r\n        <ReactMarkdown source={props.serialnumber} />\r\n        <div className=\"actions\">\r\n          {!props.published && (\r\n            <button onClick={() => publish(props.id)}>Publish</button>\r\n          )}\r\n          <button onClick={() => destroy(props.id)}>Delete</button>\r\n        </div>\r\n      </div>\r\n      <style jsx>{`\r\n        .page {\r\n          background: white;\r\n          padding: 2rem;\r\n        }\r\n\r\n        .actions {\r\n          margin-top: 2rem;\r\n        }\r\n\r\n        button {\r\n          background: #ececec;\r\n          border: 0;\r\n          border-radius: 0.125rem;\r\n          padding: 1rem 2rem;\r\n        }\r\n\r\n        button + button {\r\n          margin-left: 1rem;\r\n        }\r\n      `}</style>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport const getServerSideProps = async (context) => {\r\n  const res = await fetch(`http://localhost:3000/api/post/${context.params.id}`)\r\n  const data = await res.json()\r\n  return {props: {...data}}\r\n}\r\n\r\nexport default Cameras\r\n"]},"metadata":{},"sourceType":"module"}